var mHost_Name=window.location.host,mLngX_,mLatY_,mName_,mAddress_,mTele_,mDetail_,SAVETIPOPTIONOBJECT;function MCloseDivTip_(b){var a=getDomObject("divTip"+b.mapId);if(a)if(a.style.display=="block"||a.style.display==""){var h={};h.eventType="TipBeforeClose";h.overlayId=a.getAttribute("overlayId");h.mapId=this.mapId;onRecieveHandler(h);a.style.display="none";h={};h.eventType="TipClose";h.overlayId=a.getAttribute("overlayId");h.mapId=b.mapId;onRecieveHandler(h)}}
function M_Overlay_Click(b){var a=thisMovie(b.mapId),h=getMapObj(a.id);if(h.getRotation()==0){var g=h.getOverlayById(b.overlayId);if(g){if(g.option)if(g.option.tipOption.tipType==0)return}else if(b.tipOption.tipType==0)return;if(g)if(!g.option.canShowTip)return;h.addEventListener(h,MConstants.FULL_SCREEN,_fullScreenTipPosition,"insideEvent");g&&g.TYPE==MOverlay.TYPE_MARKER&&g.option.isEditable==true&&h.addEventListener(g,MConstants.DRAG_START,MCloseDivTip_,"insideEvent");var f,d=getDomObject("divTip"+
a.id),c=b.tipOption?b.tipOption:g.option.tipOption;if(c.tipType==1||c.tipType==3||c.tipType==4){if(d){if(!getDomObject("defaultDiv"+a.id)){a.parentNode.removeChild(d);d=null}if(c.tipType==4)if(getDomObject("tipTitle"+a.id)){a.parentNode.removeChild(d);d=null}}if(g){a.saveDivTipPosition=g.TYPE==MOverlay.TYPE_MARKER?g.lnglat:b.eventX&&b.eventY?new MLngLat(b.eventX,b.eventY):g.lnglatArr[0];h.overlayId=b.overlayId;if(!g.option.canShowTip)return;f=getDivTipPosition(b.mapId,a.saveDivTipPosition);var e=
c.content.split("&");mLngX_=a.saveDivTipPosition.lngX;mLatY_=a.saveDivTipPosition.latY;mName_=c.title;mAddress_=e[0];mTele_=e[1];mDetail_=e[2];if(d==null){d=new CornerDivTip(f,a);d.Show()}else if(c.tipType==1)if(d.getAttribute("jsType")==3||d.getAttribute("jsType")==4){d.parentNode.removeChild(d);d=null;d=new CornerDivTip(f,a);d.Show()}else{if(d.style.display=="block"||d.style.display==""){getDomObject("tipContent"+a.id).childNodes[0].innerHTML="";h.closeTip()}d.setAttribute("overlayId",g.id);d.style.display=
"block";setDivTip(g.option.tipOption,a,h)}else if(c.tipType==3)if(d.getAttribute("jsType")==1||d.getAttribute("jsType")==4){d.parentNode.removeChild(d);d=null;d=new CornerDivTip(f,a);d.Show()}else{if(d.style.display=="block"||d.style.display=="")h.closeTip();d.setAttribute("overlayId",g.id);d.style.display="block";setDivTip_3(g.option.tipOption,a,h)}else if(c.tipType==4)if(d.getAttribute("jsType")==1||d.getAttribute("jsType")==3){d.parentNode.removeChild(d);d=null;d=new CornerDivTip(f,a);d.Show()}else{d.style.display=
"block";setDivTip_4(g.option.tipOption,a,h)}}else{h.overlayId=b.overlayId;a.saveDivTipPosition=b.position;f=getDivTipPosition(b.mapId,a.saveDivTipPosition);if(d==null){d=new CornerDivTip(f,a,b.tipOption);d.Show();SAVETIPOPTIONOBJECT=c}else{SAVETIPOPTIONOBJECT=c;if(c.tipType==1)if(getDomObject("titleSpan"+a.id)){d.parentNode.removeChild(d);d=null;d=new CornerDivTip(f,a);d.Show()}else{if(d.style.display=="block"||d.style.display==""){getDomObject("tipContent"+a.id).childNodes[0].innerHTML="";h.closeTip()}d.setAttribute("overlayId",
a.id);d.style.display="block";setDivTip(b.tipOption,a,h)}else if(c.tipType==4)if(getDomObject("titleSpan"+a.id)){d.parentNode.removeChild(d);d=null;d=new CornerDivTip(f,a);d.Show()}else{if(d.style.display=="block"||d.style.display==""){if(getDomObject("tipContent"+a.id))getDomObject("tipContent"+a.id).childNodes[0].innerHTML="";h.closeTip()}d.setAttribute("overlayId",a.id);d.style.display="block";setDivTip_4(b.tipOption,a,h)}}}M_SetDivTipPosition_(b,a,c);if(c.tipType==1){if(d=getDomObject("M_CBtn"+
a.id))d.onclick=function(){getDomObject("tipContent"+a.id).childNodes[0].innerHTML="";h.closeTip()}}else if(c.tipType==3){getDomObject("M_CBtn"+a.id).onclick=function(){h.closeTip()};getDomObject("a1"+a.id).onclick=function(){h.setZoomAndCenter(17,a.saveDivTipPosition)};getDomObject("a2"+a.id).onclick=function(){h.setZoomAndCenter(14,a.saveDivTipPosition)};getDomObject("a3"+a.id).onclick=function(){h.setZoomAndCenter(12,a.saveDivTipPosition)};getDomObject("a4"+a.id).onclick=function(){window.open("http://www.mapabc.com/search.shtml?r_s,\u5168\u56fd,\u5168\u56fd,NAN,"+
mName_+",NAN,"+mLngX_+",NAN,"+mLatY_+",NAN,"+mAddress_+",NAN,"+mTele_+",NAN,,NAN,,NAN,,NAN")};getDomObject("a5"+a.id).onclick=function(){window.open("http://www.mapabc.com/search.shtml?r_e,\u5168\u56fd,\u5168\u56fd,"+mName_+",NAN,"+mLngX_+",NAN,"+mLatY_+",NAN,"+mAddress_+",NAN,"+mTele_+",NAN,,NAN,,NAN,,NAN,NAN")};getDomObject("a6"+a.id).onclick=function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u94f6\u884c,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("a7"+a.id).onclick=
function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u8f66\u7ad9,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("a8"+a.id).onclick=function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u5927\u5b66,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("a9"+a.id).onclick=function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u6e58\u83dc,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("a10"+a.id).onclick=
function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u8336\u697c,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("a11"+a.id).onclick=function(){window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,\u8d85\u5e02,"+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("sb"+a.id).onclick=function(){var l=getDomObject("ky"+a.id).value;window.open("http://www.mapabc.com/localsearch.shtml?xy,\u5168\u56fd,,"+l+","+mLngX_+","+mLatY_+","+mName_+",5000")};getDomObject("jctip"+
a.id).onclick=function(){var l="http://www.mapabc.com/DataChannel/correct/poi.jsp?cityname=&name="+mName_+"&x_code="+mLngX_+"&y_code="+mLatY_+"&poiid=&user_id="+mHost_Name+"&address="+mAddress_+"&tel="+mTele_+"&information="+mDetail_;if(l.length>=900)l="http://www.mapabc.com/DataChannel/correct/poi.jsp?cityname=&name="+mName_+"&x_code="+mLngX_+"&y_code="+mLatY_+"&poiid=&user_id="+mHost_Name+"&address="+mAddress_+"&tel="+mTele_;l=encodeURI(l);window.open(l)}}}else if(c.tipType==2){if(d)if(getDomObject("defaultDiv"+
a.id)){a.parentNode.removeChild(d);d=null}if(g){a.saveDivTipPosition=g.TYPE==MOverlay.TYPE_MARKER?g.lnglat:b.eventX&&b.eventY?new MLngLat(b.eventX,b.eventY):g.lnglatArr[0];h.overlayId=b.overlayId;if(!g.option.canShowTip)return;f=getDivTipPosition(b.mapId,a.saveDivTipPosition);if(d==null){d=new CornerDivTip(f,a);d.Show()}else{d.innerHTML=null;d.setAttribute("overlayId",g.id);d.innerHTML=c.content;d.style.display="block"}}else{h.overlayId=b.overlayId;a.saveDivTipPosition=b.position;f=getDivTipPosition(b.mapId,
a.saveDivTipPosition);if(d==null){d=new CornerDivTip(f,a,c);d.Show()}else{d.innerHTML=null;d.setAttribute("overlayId",a.id);d.innerHTML=c.content;d.style.display="block"}SAVETIPOPTIONOBJECT=c}M_SetDivTipPosition_(b,a,c)}if(c.tipType==1||c.tipType==3||c.tipType==4)divTipFitBySelf(a,f,g,c.tipType);else if(c.tipType==2)g?CustomTipFitBySelf(a,f,g,c.tipAlign):CustomTipFitBySelf(a,f,"",c.tipAlign);g={};g.eventType="TipOpen";g.overlayId=b.overlayId;g.mapId=b.mapId;onRecieveHandler(g);d=null}}
function divTipFitBySelf(b,a,h,g){var f=getDomObject(b.id).offsetWidth,d=getDomObject(b.id).offsetHeight,c=getDomObject("divTip"+b.id);if(c){var e=c.childNodes[0];c=parseInt(e.offsetHeight);e=parseInt(e.offsetWidth)/2;if(a.x>=f||a.x<=0||a.y<=0||a.y>=d){b.setCenter(b.saveDivTipPosition);a=new MPoint(f/2,d/2)}if(h)if(h.TYPE==MOverlay.TYPE_MARKER){if(!h.size){h.size={};h.size.width=19.95;h.size.height=33.95}if(a.x<e&&a.y-h.size.height<c||f-a.x<e&&a.y-h.size.height<c){if(a.x<e&&a.y-h.size.height<c)g!=
4?b.panBy(new MSize(-(e-a.x),-(c-a.y+h.size.height))):b.panBy(new MSize(-(e-a.x),-(c-a.y+h.size.height+55)));if(f-a.x<e&&a.y-h.size.height<c)g!=4?b.panBy(new MSize(e-(f-a.x),-(c-a.y+h.size.height))):b.panBy(new MSize(e-(f-a.x),-(c-a.y+h.size.height+55)))}else{a.x<e&&b.panBy(new MSize(-(e-a.x),0));f-a.x<e&&b.panBy(new MSize(e-(f-a.x),0));if(a.y-h.size.height<c)g!=4?b.panBy(new MSize(0,-(c-a.y+h.size.height))):b.panBy(new MSize(0,-(c-a.y+h.size.height+55)))}}else if(a.x<e&&a.y<c||f-a.x<e&&a.y<c){a.x<
e&&a.y<c&&b.panBy(new MSize(-(e-a.x),-(c-a.y)));f-a.x<e&&a.y<c&&b.panBy(new MSize(e-(f-a.x),-(c-a.y)))}else{a.x<e&&b.panBy(new MSize(-(e-a.x),0));f-a.x<e&&b.panBy(new MSize(e-(f-a.x),0));a.y<c&&b.panBy(new MSize(0,-(c-a.y)))}else if(a.x<e&&a.y<c||f-a.x<e&&a.y<c){a.x<e&&a.y<c&&b.panBy(new MSize(-(e-a.x),-(c-a.y)));f-a.x<e&&a.y<c&&b.panBy(new MSize(e-(f-a.x),-(c-a.y)))}else{a.x<e&&b.panBy(new MSize(-(e-a.x),0));f-a.x<e&&b.panBy(new MSize(e-(f-a.x),0));a.y<c&&b.panBy(new MSize(0,-(c-a.y)))}}}
function CustomTipFitBySelf(b,a,h,g){var f=getDomObject(b.id).offsetWidth,d=getDomObject(b.id).offsetHeight,c=getDomObject("divTip"+b.id).childNodes[0],e=parseInt(c.offsetHeight);c=parseInt(c.offsetWidth)/2;if(a.x>=f||a.x<=0||a.y<=0||a.y>=d){b.setCenter(b.saveDivTipPosition);a=new MPoint(f/2,d/2)}if(g<1||g>9)g=2;if(typeof h=="object")if(h.TYPE==MOverlay.TYPE_MARKER){if(!h.size){h.size={};h.size.width=19.95;h.size.height=33.95}switch(g){case 1:if(a.x+c*2>f&&a.y+e>d)b.panBy(new MSize(a.x+c*2-f,a.y+
e-d));else{a.x+c*2>f&&b.panBy(new MSize(c*2+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 2:if(a.x<c&&a.y+e>d||a.x+c>f&&a.y+e>d){a.x<c&&a.y+e>d&&b.panBy(new MSize(-(c-a.x),a.y+e-d));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e-d))}else{a.x<c&&b.panBy(new MSize(-(c-a.x),0));a.x+c>f&&b.panBy(new MSize(c+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 3:if(a.x<c*2&&a.y+e>d)b.panBy(new MSize(-(c*2-a.x),a.y+e-d));else{c*2>a.x&&b.panBy(new MSize(-(c*2-a.x),0));a.y+e>d&&b.panBy(new MSize(0,
a.y+e-d))}break;case 4:if(a.x+2*c>f&&a.y<e/2+h.size.height/2||a.x+c*2>f&&a.y+e/2>d){a.x+2*c>f&&a.y<e/2+h.size.height/2&&b.panBy(new MSize(a.x+2*c-f,-(e/2-a.y+h.size.height/2)));a.x+c*2>f&&a.y+e>d&&b.panBy(new MSize(a.x+c*2-f,a.y+e/2-d-h.size.height/2))}else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d-h.size.height/2));e/2+h.size.height/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y+h.size.height/2)))}break;case 5:if(a.x+c>f&&a.y<(e+h.size.height)/2||a.x+c>f&&a.y+e/2>
d||a.x<c&&a.y<(e+h.size.height)/2||a.x<c&&a.y+e/2>d){a.x+c>f&&a.y<(e+h.size.height)/2&&b.panBy(new MSize(a.x+c-f,-(e/2-a.y+h.size.height/2)));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e/2-d-h.size.height/2));a.x<c&&a.y<(e+h.size.height)/2&&b.panBy(new MSize(-(c-a.x),-(e/2-a.y+h.size.height/2)));a.x<c&&a.y+e>d&&b.panBy(new MSize(-(c-a.x),a.y+e/2-d-h.size.height/2))}else{a.x+c>f&&b.panBy(new MSize(a.x+c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d-h.size.height/2));(e+h.size.height)/2>a.y&&
b.panBy(new MSize(0,-(e/2-a.y+h.size.height/2)));a.x<c&&b.panBy(new MSize(-(c-a.x),0))}break;case 6:if(a.x<2*c&&a.y<e/2+h.size.height/2||a.x<c*2&&a.y+e/2>d){a.x<2*c&&a.y<e/2+h.size.height/2&&b.panBy(new MSize(-(2*c-a.x),-(e/2-a.y+h.size.height/2)));a.x<c*2&&a.y+e>d&&b.panBy(new MSize(-(c*2-a.x),a.y+e/2-d-h.size.height/2))}else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d-h.size.height/2));e/2+h.size.height/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y+h.size.height/2)))}break;
case 7:if(a.x+2*c>f&&e+h.size.height>a.y)b.panBy(new MSize(a.x+2*c-f,-(e-a.y+h.size.height)));else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));e+h.size.height>a.y&&b.panBy(new MSize(0,-(e-a.y+h.size.height)))}break;case 8:if(a.x<c&&a.y<e+h.size.height||f-a.x<c&&a.y<e){a.x<c&&a.y<e+h.size.height&&b.panBy(new MSize(-(c-a.x),-(e-a.y+h.size.height)));f-a.x<c&&a.y<e&&b.panBy(new MSize(c-(f-a.x),-(e-a.y+h.size.height)))}else{a.x<c&&b.panBy(new MSize(-(c-a.x),0));f-a.x<c&&b.panBy(new MSize(c-(f-a.x),0));
a.y<e+h.size.height&&b.panBy(new MSize(0,-(e-a.y+h.size.height)))}break;case 9:if(a.x<2*c&&a.y<e+h.size.height)b.panBy(new MSize(-(2*c-a.x),-(e-a.y+h.size.height)));else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));e+h.size.height>a.y&&b.panBy(new MSize(0,-(e-a.y+h.size.height)))}break}}else switch(g){case 1:if(a.x+c*2>f&&a.y+e>d)b.panBy(new MSize(a.x+c*2-f,a.y+e-d));else{a.x+c*2>f&&b.panBy(new MSize(c*2+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 2:if(a.x<c&&a.y+e>d||a.x+c>f&&a.y+e>
d){a.x<c&&a.y+e>d&&b.panBy(new MSize(-(c-a.x),a.y+e-d));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e-d))}else{a.x<c&&b.panBy(new MSize(-(c-a.x),0));a.x+c>f&&b.panBy(new MSize(c+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 3:if(a.x<c*2&&a.y+e>d)b.panBy(new MSize(-(c*2-a.x),a.y+e-d));else{c*2>a.x&&b.panBy(new MSize(-(c*2-a.x),0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 4:if(a.x+2*c>f&&a.y<e/2||a.x+c*2>f&&a.y+e/2>d){a.x+2*c>f&&a.y<e/2&&b.panBy(new MSize(a.x+2*c-f,-(e/2-
a.y)));a.x+c*2>f&&a.y+e>d&&b.panBy(new MSize(a.x+c*2-f,a.y+e/2-d))}else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d));e/2+h.size.height/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)))}break;case 5:if(a.x+c>f&&a.y<e/2||a.x+c>f&&a.y+e/2>d||a.x<c&&a.y<e/2||a.x<c&&a.y+e/2>d){a.x+c>f&&a.y<e/2&&b.panBy(new MSize(a.x+c-f,-(e/2-a.y/2)));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e/2-d));a.x<c&&a.y<(e+h.size.height)/2&&b.panBy(new MSize(-(c-a.x),-(e/2-a.y)));a.x<c&&a.y+
e>d&&b.panBy(new MSize(-(c-a.x),a.y+e/2-d))}else{a.x+c>f&&b.panBy(new MSize(a.x+c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d));(e+h.size.height)/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)));a.x<c&&b.panBy(new MSize(-(c-a.x),0))}break;case 6:if(a.x<2*c&&a.y<e/2||a.x<c*2&&a.y+e/2>d){a.x<2*c&&a.y<e/2&&b.panBy(new MSize(-(2*c-a.x),-(e/2-a.y)));a.x<c*2&&a.y+e>d&&b.panBy(new MSize(-(c*2-a.x),a.y+e/2-d))}else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d));e/2+h.size.height/
2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)))}break;case 7:if(a.x+2*c>f&&e>a.y)b.panBy(new MSize(a.x+2*c-f,-(e-a.y)));else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));e>a.y&&b.panBy(new MSize(0,-(e-a.y)))}break;case 8:if(a.x<c&&a.y<e||f-a.x<c&&a.y<e){a.x<c&&a.y<e&&b.panBy(new MSize(-(c-a.x),-(e-a.y)));f-a.x<c&&a.y<e&&b.panBy(new MSize(c-(f-a.x),-(e-a.y)))}else{a.x<c&&b.panBy(new MSize(-(c-a.x),0));f-a.x<c&&b.panBy(new MSize(c-(f-a.x),0));a.y<e&&b.panBy(new MSize(0,-(e-a.y)))}break;case 9:if(a.x<2*c&&a.y<
e)b.panBy(new MSize(-(2*c-a.x),-(e-a.y)));else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));e>a.y&&b.panBy(new MSize(0,-(e-a.y)))}break}else if(typeof h=="string")switch(g){case 1:if(a.x+c*2>f&&a.y+e>d)b.panBy(new MSize(a.x+c*2-f,a.y+e-d));else{a.x+c*2>f&&b.panBy(new MSize(c*2+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 2:if(a.x<c&&a.y+e>d||a.x+c>f&&a.y+e>d){a.x<c&&a.y+e>d&&b.panBy(new MSize(-(c-a.x),a.y+e-d));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e-d))}else{a.x<c&&b.panBy(new MSize(-(c-
a.x),0));a.x+c>f&&b.panBy(new MSize(c+a.x-f,0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 3:if(a.x<c*2&&a.y+e>d)b.panBy(new MSize(-(c*2-a.x),a.y+e-d));else{c*2>a.x&&b.panBy(new MSize(-(c*2-a.x),0));a.y+e>d&&b.panBy(new MSize(0,a.y+e-d))}break;case 4:if(a.x+2*c>f&&a.y<e/2||a.x+c*2>f&&a.y+e/2>d){a.x+2*c>f&&a.y<e/2&&b.panBy(new MSize(a.x+2*c-f,-(e/2-a.y)));a.x+c*2>f&&a.y+e>d&&b.panBy(new MSize(a.x+c*2-f,a.y+e/2-d))}else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,
a.y+e/2-d));e/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)))}break;case 5:if(a.x+c>f&&a.y<e/2||a.x+c>f&&a.y+e/2>d||a.x<c&&a.y<e/2||a.x<c&&a.y+e/2>d){a.x+c>f&&a.y<e/2&&b.panBy(new MSize(a.x+c-f,-e/2));a.x+c>f&&a.y+e>d&&b.panBy(new MSize(a.x+c-f,a.y+e/2));a.x<c&&a.y<e/2&&b.panBy(new MSize(-(c-a.x),-(e/2)));a.x<c&&a.y+e>d&&b.panBy(new MSize(-(c-a.x),a.y+e/2-d))}else{a.x+c>f&&b.panBy(new MSize(a.x+c-f,0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d));e/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)));a.x<c&&b.panBy(new MSize(-(c-
a.x),0))}break;case 6:if(a.x<2*c&&a.y<e/2||a.x<c*2&&a.y+e/2>d){a.x<2*c&&a.y<e/2&&b.panBy(new MSize(-(2*c-a.x),-(e/2-a.y)));a.x<c*2&&a.y+e>d&&b.panBy(new MSize(-(c*2-a.x),a.y+e/2-d))}else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));a.y+e/2>d&&b.panBy(new MSize(0,a.y+e/2-d));e/2>a.y&&b.panBy(new MSize(0,-(e/2-a.y)))}break;case 7:if(a.x+2*c>f&&e>a.y)b.panBy(new MSize(a.x+2*c-f,-(e-a.y)));else{a.x+2*c>f&&b.panBy(new MSize(a.x+2*c-f,0));e>a.y&&b.panBy(new MSize(0,-(e-a.y)))}break;case 8:if(a.x<c&&a.y<e||
f-a.x<c&&a.y<e){a.x<c&&a.y<e&&b.panBy(new MSize(-(c-a.x),-(e-a.y)));f-a.x<c&&a.y<e&&b.panBy(new MSize(c-(f-a.x),-(e-a.y)))}else{a.x<c&&b.panBy(new MSize(-(c-a.x),0));f-a.x<c&&b.panBy(new MSize(c-(f-a.x),0));a.y<e&&b.panBy(new MSize(0,-(e-a.y)))}break;case 9:if(a.x<2*c&&a.y<e)b.panBy(new MSize(-(2*c-a.x),-(e-a.y)));else{a.x<2*c&&b.panBy(new MSize(-(2*c-a.x),0));e>a.y&&b.panBy(new MSize(0,-(e-a.y)))}break}}
function setDivTip_4(b,a,h){var g=getDomObject(a.id+"_titleDiv"),f=getDomObject(a.id+"_contentDiv"),d=getDomObject(a.id+"_bar"),c=a.getOverlayById(h.overlayId);h=getDomObject(a.id).offsetWidth-10;var e=getDomObject(a.id).offsetHeight,l=getDomObject(a.id+"_close");a=getDomObject("defaultDiv"+a.id);c=c?c.TYPE==MOverlay.TYPE_MARKER?e-50-c.size.height:e-50:e-50;if(a){a.style.width=b.tipWidth!=300?b.tipWidth>=h?h+"px":b.tipWidth+"px":"300px";if(b.tipHeight<50)b.tipHeight=50;if(b.tipHeight!=175){f.style.height=
b.tipHeight>c?c+"px":b.tipHeight-50+"px";f.style.overflow="hidden"}else f.style.height="auto"}if(l)if(navigator.appName.indexOf("Microsoft")!=-1)if(navigator.appVersion.indexOf("MSIE 8.0")==-1)l.style.backgroundPositionX="-36px";else l.style.backgroundPosition="-36px -725px";else l.style.backgroundPosition="-36px -725px";h="";if(b.titleFontStyle.bold)h="bold";l="";if(b.contentFontStyle.bold)l="bold";c="";c=b.titleFontStyle.color=="0xffffff"?"#000":MChangeColor(b.titleFontStyle.color);e="";e=b.contentFontStyle.color==
"0xffffff"?"#000":MChangeColor(b.contentFontStyle.color);if(b.titleFontStyle.size>25)b.titleFontStyle.size=25;if(g){g.style.width=parseInt(b.tipWidth)-55+"px";g.style.fontSize=b.titleFontStyle.size;g.style.color=c;g.style.fontWeight=h;g.style.fontFamily=b.titleFontStyle.name;g.innerHTML=b.title}if(f){if(b.contentFontStyle.size>25)b.contentFontStyle.size=25;f.style.fontSize=b.contentFontStyle.size;f.style.color=e;f.style.fontWeight=l;f.style.fontFamily=b.contentFontStyle.name;f.innerHTML=b.content}d.style.left=
parseInt(a.offsetWidth)/2-18+"px";d.style.top=navigator.appName.indexOf("Microsoft")!=-1?navigator.appVersion.indexOf("MSIE 8.0")==-1?parseInt(a.offsetHeight)-6+"px":parseInt(a.offsetHeight)-5+"px":parseInt(a.offsetHeight)-5+"px"}
function setDivTip_3(b,a,h){var g=b.content.split("&");a.getOverlayById(h.overlayId);document.getElementById(a.id);document.getElementById(a.id);if(h=getDomObject("defaultDiv"+a.id))h.style.width="350px";if(h=getDomObject("contentDiv"+a.id))h.style.height="232px";if(h=getDomObject("titleSpan"+a.id))h.innerHTML=b.title;if(b=document.getElementById("addr"+a.id))b.innerHTML="<b>\u5730\u5740:</b>"+g[0];if(b=getDomObject("tupian"+a.id))b.src=g[3];h=g[1];b="";if(h.length>13)for(;h.length>13;){b+=h.substr(0,
13)+"<br>";h=h.substr(13,h.length-1)}b+=h;if(h=getDomObject("tele"+a.id))h.innerHTML=navigator.appName.indexOf("Microsoft")!=-1?"<b>\u7535\u8bdd:</b>"+g[1]:"<b>\u7535\u8bdd:</b>"+b;if(b=getDomObject("det"+a.id))b.innerHTML="<b>\u4f01\u4e1a\u4fe1\u606f:</b>"+g[2];g=getDomObject("c3"+a.id);a=getDomObject("c3"+a.id).childNodes[0];if(a.offsetHeight>=112){g.style.height="112px";g.style.maxHeight="112px";g.style.overflow="auto"}else{g.style.maxHeight=a.offsetHeight+"px";g.style.height=a.offsetHeight+"px"}}
function setDivTip(b,a,h){h=a.getOverlayById(h.overlayId);var g=document.getElementById(a.id).offsetWidth-10,f=document.getElementById(a.id).offsetHeight;if(h)if(h.TYPE==MOverlay.TYPE_MARKER){if(!h.size)h.size=new MSize(0,0);h=f-50-h.size.height}else h=f-50;else h=f-50;if(f=getDomObject("defaultDiv"+a.id))f.style.width=b.tipWidth!=300?b.tipWidth>=g?g+"px":b.tipWidth+"px":"300px";g=getDomObject("allTitle"+a.id);if(g!=null){g.style.backgroundColor=MChangeColor(b.titleFillStyle.color);g.style.borderBottomColor=
MChangeColor(b.borderStyle.color)}g=getDomObject("tipTitle"+a.id);if(g!=null){g.style.borderBottomColor=MChangeColor(b.borderStyle.color);g.style.fontSize=b.titleFontStyle.size+"px";if(b.titleFontStyle.size>25)g.style.fontSize="25px";g.style.color=MChangeColor(b.titleFontStyle.color);g.innerHTML=b.title}g=getDomObject("contentDiv"+a.id);if(g!=null){if(b.tipHeight<50)b.tipHeight=50;if(b.tipHeight!=175){g.style.height=b.tipHeight>h?h+"px":b.tipHeight-25+"px";g.style.overflow="hidden"}else g.style.height=
"auto";g.style.backgroundColor=MChangeColor(b.fillStyle.color)}h=getDomObject("tipContent"+a.id);if(h!=null){h.style.backgroundColor=MChangeColor(b.fillStyle.color);h.style.color=MChangeColor(b.contentFontStyle.color);h.childNodes[0].innerHTML=b.content;h.childNodes[0].style.fontSize=b.contentFontStyle.size+"px"}h=getDomObject("button"+a.id);if(h!=null)h.style.borderBottomColor=MChangeColor(b.borderStyle.color);h=getDomObject("contentDiv"+a.id);if(h!=null)h.style.borderColor=MChangeColor(b.borderStyle.color);
g=getDomObject("t1"+a.id);if(g!=null)g.style.backgroundColor=MChangeColor(b.borderStyle.color);for(g=2;g<=4;g++){f=getDomObject("t"+g+a.id);if(f!=null){f.style.backgroundColor=MChangeColor(b.titleFillStyle.color);f.style.borderColor=MChangeColor(b.borderStyle.color)}}for(g=1;g<=3;g++){f=getDomObject("e"+g+a.id);if(f!=null)f.style.borderColor=MChangeColor(b.borderStyle.color)}if(g=getDomObject("e4"+a.id))g.style.backgroundColor=MChangeColor(b.borderStyle.color);for(g=20;g>=1;g--)if(f=getDomObject(g+
"tip"+a.id)){f.style.backgroundColor=MChangeColor(b.fillStyle.color);f.style.borderColor=MChangeColor(b.borderStyle.color)}if(g=getDomObject("barlast"+a.id))g.style.backgroundColor=MChangeColor(b.borderStyle.color);if(g=getDomObject("tipContent"+a.id))var d=g.childNodes[0];if(b.tipHeight!=175){if(h){h=h.offsetHeight-25;if(d.offsetHeight>=h){g.style.height=h+"px";g.style.maxHeight=h+"px";g.style.overflow="auto"}else{g.style.maxHeight=d.offsetHeight+"px";g.style.height=d.offsetHeight+"px"}}}else if(d)if(d.offsetHeight>=
150){g.style.height="150px";g.style.maxHeight="150px";g.style.overflow="auto"}else g.style.height=d.offsetHeight+"px";if(b.content.toLowerCase().indexOf("embed")!=-1||b.content.toLowerCase().indexOf("object")!=-1)playerControl(b.content,a)}function MChangeColor(b){b=b.toString(16);switch(b.length){case 0:b="#000000";break;case 1:b="#00000"+b;break;case 2:b="#0000"+b;break;case 3:b="#000"+b;break;case 4:b="#00"+b;break;case 5:b="#0"+b;break;case 6:b="#"+b}return b}
function CornerDivTip(b,a,h){this.pt=b;this.tip=h;this.MFMPMapObj_=a}CornerDivTip.prototype.Show=function(){var b=this.MFMPMapObj_.getOverlayById(getMapObj(this.MFMPMapObj_.id).overlayId);b?this.setDivTipStyle(b.option.tipOption,b):this.setDivTipStyle(this.tip,b)};
CornerDivTip.prototype.setDivTipStyle=function(b,a){var h=getMapObj(this.MFMPMapObj_.id),g=document.getElementById(this.MFMPMapObj_.id).offsetWidth-10,f=document.getElementById(this.MFMPMapObj_.id).offsetHeight,d=new createDomOptions;d.domElement="DIV";d.id="divTip"+this.MFMPMapObj_.id;d=new createDom(d);a?d.setAttribute("overlayId",a.id):d.setAttribute("overlayId",this.MFMPMapObj_.id);d.setAttribute("jsType",b.tipType);if(b.tipType==4){f=new createDomOptions;f.id="defaultDiv"+this.MFMPMapObj_.id;
f.domElement="DIV";f.className="MFP_mapTip";f.width=b.tipWidth!=300?b.tipWidth>g?g+"px":b.tipWidth+"px":"300px";f.position="absolute";g=new createDom(f);g.style.position="absolute";var c="";if(b.titleFontStyle.bold)c="bold";var e="";if(b.contentFontStyle.bold)e="bold";var l="";l=b.titleFontStyle.color=="0xffffff"?"#000":MChangeColor(b.titleFontStyle.color);var k="";k=b.contentFontStyle.color=="0xffffff"?"#000":MChangeColor(b.contentFontStyle.color);if(b.titleFontStyle.size>25)b.titleFontStyle.size=
25;if(b.contentFontStyle.size>25)b.contentFontStyle.size=25;var j=[];j.push("<table cellpadding=0 cellspacing=0 border=0>");j.push("<tr><td class='MFP_westNorth'></td><td class='MFP_horizontalT'></td>");j.push('<td class="MFP_eastNorth"></td></tr>');j.push('<tr><td class="MFP_verticalL"></td>');j.push('<td valign="top"><div class="MFP_cont" >');j.push("<table cellpadding=0 cellspacing=0 border=0 width=100%>");j.push('<tr><td valign="top" ><span id="'+this.MFMPMapObj_.id+'_titleDiv" class="MFP_span" style="width:'+
(parseInt(f.width)-55)+"px;font-size: "+b.titleFontStyle.size+"; color:"+l+"; font-weight:"+c+"; font-family:"+b.titleFontStyle.name+';">'+b.title+"</span>&nbsp;");j.push('<span id="'+this.MFMPMapObj_.id+'_close" style="cursor:pointer;background:url('+FMP_baseURL.replace("js","images")+'back_img.gif) no-repeat -36px -725px;width:17px;height:17px;position:relative;float:right;"></span></td></tr>');j.push('<tr><td valign="top" id="'+this.MFMPMapObj_.id+'_contentDiv" style="font-size: '+b.contentFontStyle.size+
"; color:"+k+"; font-weight:"+e+"; font-family:"+b.contentFontStyle.name+';">'+b.content+"</td></tr>");j.push("</table></div></td>");j.push('<td class="MFP_verticalR"></td></tr>');j.push('<tr><td class="MFP_westSouth"></td>');j.push('<td class="MFP_horizontalB"></td><td class="MFP_eastSouth"></td></tr>');j.push("<tr><td colspan=3>");j.push("</td></tr></table>");c=new createDomOptions;c.className="MFP_arrow";c.id=this.MFMPMapObj_.id+"_bar";c.domElement="DIV";e=new createDom(c);e.style.position="absolute";
e.style.left=parseInt(f.width)/2-18+"px";g.innerHTML=j.join("");g.appendChild(e);d.appendChild(g);this.MFMPMapObj_.parentNode.appendChild(d);var o=document.getElementById(this.MFMPMapObj_.id+"_close");o.style.top=navigator.appName.indexOf("Microsoft")!=-1?navigator.appVersion.indexOf("MSIE 8.0")==-1?"-15px":"5px":"5px";o.onclick=function(){h.closeTip()};o.onmouseover=function(){if(navigator.appName.indexOf("Microsoft")!=-1)if(navigator.appVersion.indexOf("MSIE 8.0")==-1)o.style.backgroundPositionX=
"-53px";else o.style.backgroundPosition="-53px -725px";else o.style.backgroundPosition="-53px -725px";o.style.cursor="pointer"};o.onmouseout=function(){if(navigator.appName.indexOf("Microsoft")!=-1)if(navigator.appVersion.indexOf("MSIE 8.0")==-1)o.style.backgroundPositionX="-36px";else o.style.backgroundPosition="-36px -725px";else o.style.backgroundPosition="-36px -725px";o.style.cursor="default"};getDomObject(this.MFMPMapObj_.id+"_contentDiv").style.fontSize=b.contentFontStyle.size+"px";getDomObject(this.MFMPMapObj_.id+
"_titleDiv").style.fontSize=b.titleFontStyle.size+"px";d=parseInt(g.offsetHeight);f=parseInt(g.offsetWidth)/2;g.style.top=a?a.TYPE==MOverlay.TYPE_MARKER?this.pt.y-d-a.size.height-20+"px":this.pt.y-d-20+"px":this.pt.y-d-20+"px";g.style.left=this.pt.x-f+"px";c=getDomObject(this.MFMPMapObj_.id+"_contentDiv");if(b.tipHeight<50)b.tipHeight=50;if(b.tipHeight!=175){c.style.height=b.tipHeight>n?n+"px":b.tipHeight-50+"px";c.style.overflow="hidden"}else c.style.height="auto";d=navigator.appName.indexOf("Microsoft")!=
-1;e.style.top=d?navigator.appVersion.indexOf("MSIE 8.0")==-1?parseInt(g.offsetHeight)-6+"px":parseInt(g.offsetHeight)-5+"px":parseInt(g.offsetHeight)-5+"px"}else if(b.tipType==2){d.innerHTML=b.content;this.MFMPMapObj_.parentNode.appendChild(d);d=null}else if(b.tipType==1||b.tipType==3){var n;if(a)if(a.TYPE==MOverlay.TYPE_MARKER){if(a.size)n=f-50-a.size.height}else n=f-50;else n=f-50;f=new createDomOptions;f.id="defaultDiv"+this.MFMPMapObj_.id;f.domElement="DIV";f.className="MFMP_raised";f.width=
b.tipWidth!=300?b.tipWidth>g?g+"px":b.tipWidth+"px":"300px";if(b.tipType==3)f.width="350px";f.position="absolute";f.color="#000";if(b.tipType==3)b.titleFillStyle.color=b.fillStyle.color;g=new createDom(f);f='<div style=""><b class="MFMP_b1" id ="t1'+this.MFMPMapObj_.id+'" style="margin:0 4px;background-color:'+MChangeColor(b.borderStyle.color)+";border-color:"+MChangeColor(b.borderStyle.color)+'"></b><b class="MFMP_b2" id ="t2'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.borderStyle.color)+
";border-color:"+MChangeColor(b.borderStyle.color)+'">2</b><b class="MFMP_b3" id ="t3'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.titleFillStyle.color)+";border-color:"+MChangeColor(b.borderStyle.color)+'"></b><b class="MFMP_b4"  id ="t4'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.titleFillStyle.color)+";border-color:"+MChangeColor(b.borderStyle.color)+'"></b></div>';j=new createDomOptions;if(b.tipHeight<50)b.tipHeight=50;if(b.tipHeight!=175){j.height=b.tipHeight>
n?n+"px":b.tipHeight-25+"px";j.overflow="hidden"}else j.height="auto";j.domElement="Div";j.id="contentDiv"+this.MFMPMapObj_.id;j.className="MFMP_boxcontent";j.backgroundColor=MChangeColor(b.fillStyle.color);j.borderColor=MChangeColor(b.borderStyle.color);if(b.tipType==3){j.height="232px";j.backgroundColor="#f1f1f1"}n=new createDom(j);if(b.tipType==1){j=new createDomOptions;j.domElement="Div";j.id="tipTitle"+this.MFMPMapObj_.id;j.className="MFMP_title";j.cursor="default";j.borderBottomColor=MChangeColor(b.borderStyle.color);
j.fontSize=b.titleFontStyle.size+"px";j.fontFamily=b.titleFontStyle.name;if(b.titleFontStyle.size>25)j.fontSize="25px";j.color=MChangeColor(b.titleFontStyle.color);e=new createDom(j);e.innerHTML=b.title;j=new createDomOptions;j.domElement="DIV";j.id="tipContent"+this.MFMPMapObj_.id;j.color=MChangeColor(b.contentFontStyle.color);j.backgroundColor=MChangeColor(b.fillStyle.color);c=new createDom(j);j=new createDomOptions;j.domElement="DIV";j.fontSize=b.contentFontStyle.size+"px";j.className="MFMP_text";
j.fontFamily=b.contentFontStyle.name;l=new createDom(j);l.innerHTML=b.content;j=new createDomOptions;j.domElement="DIV";j.id="button"+this.MFMPMapObj_.id;j.className="MFMP_button";k=new createDom(j);j=new createDomOptions;j.domElement="DIV";j.className="MFMP_allTitle";j.id="allTitle"+this.MFMPMapObj_.id;j.backgroundColor=MChangeColor(b.titleFillStyle.color);j.borderBottomColor=MChangeColor(b.borderStyle.color);var m=new createDom(j);j=new createDomOptions;j.domElement="IMG";j.id="M_CBtn"+this.MFMPMapObj_.id;
j.title="\u5173\u95ed";j.src=FMP_baseURL.replace("js","images")+"close.gif";j.cursor="pointer";j=new createDom(j);k.appendChild(j);m.appendChild(e);m.appendChild(k);n.appendChild(m);c.appendChild(l);n.appendChild(c)}else if(b.tipType==3){k=b.content.split("&");j=new createDomOptions;j.domElement="div";j.id="tihe"+this.MFMPMapObj_.id;j.className="MFMP_title1";j.backgroundColor="#fff";c=new createDom(j);j=new createDomOptions;j.domElement="div";j.id="titleSpan"+this.MFMPMapObj_.id;j.className="MFMP_t3";
j.color="#000";j.fontSize="14px";e=new createDom(j);e.style.fontWeight="bold";e.style.padding="0 2%";e.style.height="25px";e.innerHTML=b.title;j=new createDomOptions;j.domElement="DIV";j.className="MFMP_button1";l=new createDom(j);j=new createDomOptions;j.domElement="IMG";j.id="M_CBtn"+this.MFMPMapObj_.id;j.title="\u5173\u95ed";j.src=FMP_baseURL.replace("js","images")+"close1.gif";j.cursor="pointer";j=new createDom(j);m=new createDomOptions;m.domElement="div";m.id="c_2"+this.MFMPMapObj_.id;m.className=
"MFMP_content1";m.height="200px";m.overflow="hidden";m=new createDom(m);var q=new createDomOptions;q.domElement="div";q.id="c3"+this.MFMPMapObj_.id;q.className="MFMP_c3";q=new createDom(q);var p=new createDomOptions;p.domElement="div";if(navigator.appName.indexOf("Microsoft")!=-1&&navigator.appVersion.indexOf("MSIE 8.0")==-1)p.className="MFMP_leftInfo";p.fontSize="12px";p=new createDom(p);var r=k[1],s="";if(r.length>13)for(;r.length>13;){s+=r.substr(0,13)+"<br>";r=r.substr(13,r.length-1)}s+=r;if(navigator.appName.indexOf("Microsoft")!=
-1&&navigator.appVersion.indexOf("MSIE 8.0")==-1)p.innerHTML='<ul><li id ="addr'+this.MFMPMapObj_.id+'"><b>\u5730\u5740\uff1a</b>'+k[0]+'</li><li id="tele'+this.MFMPMapObj_.id+'" ><b>\u7535\u8bdd\uff1a</b>'+k[1]+'</li><li id ="det'+this.MFMPMapObj_.id+'" ><b>\u4f01\u4e1a\u4fe1\u606f\uff1a</b>'+k[2]+'</li></ul> <img id ="tupian'+this.MFMPMapObj_.id+'"src="'+k[3]+'"  width=120 height=90 style="float:right;margin-right:5px;" />';else{navigator.appName.indexOf("Microsoft")!=-1&&navigator.appVersion.indexOf("MSIE 8.0");
p.innerHTML='<table border=0 cellpadding=0 cellspacing="0" style="padding:0 1%;"><tr><td  id ="addr'+this.MFMPMapObj_.id+'"><b>\u5730\u5740\uff1a</b>'+k[0]+'</td><td width="140" colspan="2" rowspan="3" align="right" valign="top"><img id ="tupian'+this.MFMPMapObj_.id+'"src="'+k[3]+'"  width=120 height=90></img></td></tr><tr><td  id="tele'+this.MFMPMapObj_.id+'" ><b>\u7535\u8bdd\uff1a</b>'+s+'</td></tr><tr><td  id ="det'+this.MFMPMapObj_.id+'" valign= "top"><b>\u4f01\u4e1a\u4fe1\u606f\uff1a</b>'+k[2]+
"</td></tr></table>"}q.appendChild(p);m.appendChild(q);k=new createDomOptions;k.domElement="div";k=new createDom(k);k.innerHTML='<table border=0 cellpadding=0 cellspacing="0" style="background:#fff;padding:0 4%;font-size:12px;width:340px;"><tr> <td height="22" colspan="2">\u7f29\u653e\u5730\u56fe\u5230\uff1a<a id="a1'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u8857\u9053</a>  <a id="a2'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u5730\u533a</a>  <a id="a3'+
this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u57ce\u5e02</a> </td><td  align=center> <a id="jctip'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_red">\u7ea0\u9519</a></td></tr></table>';m.appendChild(k);k=new createDomOptions;k.domElement="div";k=new createDom(k);k.innerHTML='<div style="width:100%;background:#f1f1f1;"><table border=0 cellpadding=0 cellspacing="0"  style="background:#f1f1f1;padding-top:3px;border-top:1px solid #CDCDCD;font-size:12px;width:340px"><tr><td height="16" colspan="3" class="lpadding"><a id="a4'+
this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_red">\u5230\u8fbe\u8fd9\u91cc</a>\u3000<a id="a5'+this.MFMPMapObj_.id+'"href="javascript:void(0)" class="MFMP_red">\u4ece\u8fd9\u91cc\u51fa\u53d1</a></td></tr> <tr> <td colspan="2" height="26"  class="lpadding" ><input id="ky'+this.MFMPMapObj_.id+'" type="text" name="textfield" style="width:220px;"/></td><td bgcolor="f1f1f1">&nbsp;&nbsp;&nbsp;&nbsp;<input id="sb'+this.MFMPMapObj_.id+'" type="submit" value="   " class="MFMP_btn" /></td></tr><tr><td colspan="3" class="lpadding"><a id="a6'+
this.MFMPMapObj_.id+'" href="javascript:void(0)">\u94f6\u884c</a>\u3000<a id="a7'+this.MFMPMapObj_.id+'"href="javascript:void(0)" class="MFMP_blue">\u8f66\u7ad9</a>\u3000<a id="a8'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u5927\u5b66</a>\u3000<a id="a9'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u6e58\u83dc</a>\u3000<a id="a10'+this.MFMPMapObj_.id+'" href="javascript:void(0)" class="MFMP_blue">\u8336\u697c</a>\u3000<a id="a11'+this.MFMPMapObj_.id+
'" href="javascript:void(0)" class="MFMP_blue">\u8d85\u5e02</a></td> </tr></table></div>';m.appendChild(k);c.appendChild(e);l.appendChild(j);c.appendChild(l);n.appendChild(c);n.appendChild(m);b.fillStyle.color=15856113}j='<div style="clear:both"><b class="MFMP_b4b" id ="e1'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.fillStyle.color)+";border-color:"+MChangeColor(b.borderStyle.color)+'"></b><b class="MFMP_b3b"  id ="e2'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.fillStyle.color)+
";border-color:"+MChangeColor(b.borderStyle.color)+'"></b><b class="MFMP_b2b"  id ="e3'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.borderStyle.color)+";border-color:"+MChangeColor(b.borderStyle.color)+'"></b><b class="MFMP_b1b"  id ="e4'+this.MFMPMapObj_.id+'" style="background-color:'+MChangeColor(b.borderStyle.color)+'"></b></div>';c='<div id="MFMP_ss" >';for(e=20;e>=1;e--){l="<div class='MFMP_w' id='"+e+"tip"+this.MFMPMapObj_.id+"' style=\"width:"+e+"px;border-color:"+MChangeColor(b.borderStyle.color)+
";background-color:"+MChangeColor(b.fillStyle.color)+';height:1px;"></div>';c+=l}c+='<div class=\'MFMP_w\'  style="width:2px" id="barlast'+this.MFMPMapObj_.id+'"style="border:none;background-color:'+MChangeColor(b.borderStyle.color)+';height:1px;"></div>';g.innerHTML+=f;g.appendChild(n);g.innerHTML+=j;g.innerHTML+=c;g.innerHTML+="</div>";d.appendChild(g);this.MFMPMapObj_.parentNode.appendChild(d);d=document.getElementById("MFMP_ss");if(navigator.appVersion.indexOf("MSIE 8.0")!=-1||navigator.appName.indexOf("Microsoft")==
-1)d.style.left=g.offsetWidth/2-11+"px";d.onclick=function(){h.closeTip()};d=parseInt(g.offsetHeight);f=parseInt(g.offsetWidth)/2;if(a)if(a.TYPE==MOverlay.TYPE_MARKER){if(a.size)g.style.top=this.pt.y-d-a.size.height+"px"}else g.style.top=this.pt.y-d+"px";else g.style.top=this.pt.y-d+"px";g.style.left=this.pt.x-f+"px";if(b.tipType==1){g=getDomObject("tipContent"+this.MFMPMapObj_.id);d=getDomObject("tipContent"+this.MFMPMapObj_.id).childNodes[0];f=getDomObject("contentDiv"+this.MFMPMapObj_.id).offsetHeight-
25;if(b.tipHeight!=175)if(d.offsetHeight>=f){g.style.height=f+"px";g.style.maxHeight=f+"px";g.style.overflow="auto"}else{g.style.maxHeight=d.offsetHeight+"px";g.style.height=d.offsetHeight+"px"}else if(d.offsetHeight>=150){g.style.height="150px";g.style.maxHeight="150px";g.style.overflow="auto"}else g.style.height=d.offsetHeight+"px";if(b.content.toLowerCase().indexOf("embed")!=-1||b.content.toLowerCase().indexOf("object")!=-1)playerControl(b.content,this.MFMPMapObj_);m=j=k=j=l=j=c=j=e=j=d=g=null}else if(b.tipType==
3){g=getDomObject("c3"+this.MFMPMapObj_.id);d=getDomObject("c3"+this.MFMPMapObj_.id).childNodes[0];if(d.offsetHeight>=112){g.style.height="112px";g.style.maxHeight="112px";g.style.overflow="auto"}else{g.style.maxHeight=d.offsetHeight+"px";g.style.height=d.offsetHeight+"px"}k=k=k=k=p=p=q=q=m=m=l=j=e=j=c=j=null}c=j=n=j=f=g=f=d=d=d=j=j=null}};
function playerControl(b,a){if(b.toLowerCase().indexOf("embed")!=-1)for(var h=document.getElementsByTagName("embed"),g=0;g<h.length;g++){if(h[g].parentNode.parentNode.id==getDomObject("tipContent"+a.id).id){var f=h[g].offsetWidth+35+"px";getDomObject("defaultDiv"+a.id).style.width=f;getDomObject("defaultDiv"+a.id).style.maxWidth=f}}else if(b.toLowerCase().indexOf("object")!=-1){h=document.getElementsByTagName("object");for(g=0;g<h.length;g++)if(h[g].parentNode.parentNode.id==getDomObject("tipContent"+
a.id).id){f=h[g].offsetWidth+35+"px";getDomObject("defaultDiv"+a.id).style.width=f;getDomObject("defaultDiv"+a.id).style.maxWidth=f}}}var _eee=null;function _fullScreenTipPosition(b){if(b.value==0){_eee=b;setTimeout(_u,1)}}function _u(){M_SetDivTipPosition_(_eee)}
function M_SetDivTipPosition_(b,a,h){if(a==undefined)a=thisMovie(b.mapId);var g=getMapObj(a.id),f="divTip"+a.id,d=getDomObject(f);if(d){var c=d.getAttribute("overlayId");if(d=a.getOverlayById(g.overlayId))if(d.option.zoomLevels.length!=0)if(g.indexOf(d.option.zoomLevels,g.getZoomLevel())==-1)getDomObject(f).style.display="none";g=getDivTipPosition(a.id,a.saveDivTipPosition);if(d)if(!d.option.canShowTip)return;if(d)h=d.option.tipOption;else if(c==a.id)h=h?h:SAVETIPOPTIONOBJECT;if(h.tipType==1||h.tipType==
3||h.tipType==4){b=getDomObject(a.id).offsetWidth;c=getDomObject(a.id).offsetHeight;if(d)if(d.TYPE==MOverlay.TYPE_MARKER){if(d.size)if(g.x<0||g.x>b||g.y-d.size.height<0||g.y-d.size.height>c){getDomObject(f).style.visibility="hidden";return}else if(getDomObject(f).style.visibility=="hidden")getDomObject(f).style.visibility="visible";h={};h.MFMPMapObj_=a;h.overlayObj=d;adaptingImageAlignPara(h)}else{if(g.x<0||g.x>b||g.y<0||g.y>c)getDomObject(f).style.visibility="hidden";else if(getDomObject(f).style.visibility==
"hidden")getDomObject(f).style.visibility="visible";a=getDomObject(f);a=a.childNodes[0];f=parseInt(a.offsetHeight);d=parseInt(a.offsetWidth)/2;if(h.tipType==4){a.style.top=g.y-f-19+"px";a.style.left=navigator.appName.indexOf("Microsoft")!=-1?g.x-d+3+"px":g.x-d+"px"}else a.style.top=g.y-f+"px";a.style.left=g.x-d+"px"}else{if(g.x<0||g.x>b||g.y<0||g.y>c)getDomObject(f).style.visibility="hidden";else if(getDomObject(f).style.visibility=="hidden")getDomObject(f).style.visibility="visible";a=getDomObject(f);
a=a.childNodes[0];f=parseInt(a.offsetHeight);d=parseInt(a.offsetWidth)/2;if(h.tipType==4){a.style.top=g.y-f-19+"px";a.style.left=navigator.appName.indexOf("Microsoft")!=-1?g.x-d+3+"px":g.x-d+"px"}else a.style.top=g.y-f+"px";a.style.left=g.x-d+"px"}}else h.tipType==2&&M_SetCustomTipPosition_(b,a,h)}}
function M_SetCustomTipPosition_(b,a,h){if(a==undefined)a=thisMovie(b.mapId);b=getMapObj(a.id);var g="divTip"+a.id;if(getDomObject(g)){b=a.getOverlayById(b.overlayId);var f=getDivTipPosition(a.id,a.saveDivTipPosition);if(b)if(!b.option.canShowTip)return;var d=getDomObject(a.id).offsetWidth;a=getDomObject(a.id).offsetHeight;if(b)if(b.TYPE==MOverlay.TYPE_MARKER){if(!b.size){b.size={};b.size.width=19.95;b.size.height=33.95}if(f.x<0||f.x>d||f.y-b.size.height<0||f.y-b.size.height>a)getDomObject(g).style.visibility=
"hidden";else if(getDomObject(g).style.visibility=="hidden")getDomObject(g).style.visibility="visible";a=getDomObject(g);a=a.childNodes[0];g=parseInt(a.offsetHeight);d=parseInt(a.offsetWidth)/2;var c={};c.width=d;c.height=g+b.size.height}else{if(f.x<0||f.x>d||f.y<0||f.y>a)getDomObject(g).style.visibility="hidden";else if(getDomObject(g).style.visibility=="hidden")getDomObject(g).style.visibility="visible";a=getDomObject(g);a=a.childNodes[0];g=parseInt(a.offsetHeight);d=parseInt(a.offsetWidth)/2;c=
{};c.width=d;c.height=g}else{if(f.x<0||f.x>d||f.y<0||f.y>a)getDomObject(g).style.visibility="hidden";else if(getDomObject(g).style.visibility=="hidden")getDomObject(g).style.visibility="visible";a=getDomObject(g);a=a.childNodes[0];g=parseInt(a.offsetHeight);d=parseInt(a.offsetWidth)/2;a.style.top=f.y-g+"px";a.style.left=f.x-d+"px";c={};c.width=d;c.height=g}c.tipObj=a;c.pt=f;M_setCustumTip_(c,h)}}
function M_setCustumTip_(b,a){var h=a.tipAlign,g=null;g=a.tipPosition==null?new MPoint(0,0):a.tipPosition;if(h<1||h>9)h=2;switch(h){case 1:var f=b.pt.y-g.y+"px",d=b.pt.x-g.x+"px";break;case 2:f=b.pt.y-g.y+"px";d=b.pt.x-b.width-g.x+"px";break;case 3:f=b.pt.y-g.y+"px";d=b.pt.x-2*b.width-g.x+"px";break;case 4:f=b.pt.y-b.height/2-g.y+"px";d=b.pt.x-g.x+"px";break;case 5:f=b.pt.y-b.height/2-g.y+"px";d=b.pt.x-b.width-g.x+"px";break;case 6:f=b.pt.y-b.height/2-g.y+"px";d=b.pt.x-b.width*2-g.x+"px";break;case 7:f=
b.pt.y-b.height-g.y+"px";d=b.pt.x-g.x+"px";break;case 8:f=b.pt.y-b.height-g.y+"px";d=b.pt.x-b.width-g.x+"px";break;case 9:f=b.pt.y-b.height-g.y+"px";d=b.pt.x-b.width*2-g.x+"px";break}b.tipObj.style.top=f;b.tipObj.style.left=d}function getDivTipId(b){for(i=0;i<MDivArray.length;i++)if(b==MDivArray[i].overlayId)return MDivArray[i].overlayId+"div";return false}function getDivTipPosition(b,a){return getMapObj(b).fromLngLatToContainerPixel(a)}
function adaptingImageAlignPara(b){var a=getDivTipPosition(b.MFMPMapObj_.id,b.overlayObj.lnglat),h=getDomObject("divTip"+b.MFMPMapObj_.id).childNodes[0],g=parseInt(h.offsetHeight),f=parseInt(h.offsetWidth)/2,d={};d.overlayObj=b.overlayObj;d.tipTopOffset=g;d.tipLeftOffet=f;d.defaultDivTip=h;d.pt=a;divTipAdaptingImageAlign(d)}
function divTipAdaptingImageAlign(b){var a=0;if(b.overlayObj.option.tipOption.tipType==4)var h=20;else{h=0;if(b.overlayObj.option.tipOption.tipType==1)a=0}if(b.overlayObj.size){g=b.overlayObj.size.width;f=b.overlayObj.size.height}else var g=19.95,f=33.95;if(b.overlayObj.option.imageAlign>9||b.overlayObj.option.imageAlign<1)b.overlayObj.option.imageAlign=1;switch(b.overlayObj.option.imageAlign){case 1:var d=b.pt.y-b.tipTopOffset-h-a+"px",c=b.pt.x-b.tipLeftOffet+g/2+"px";break;case 2:d=b.pt.y-b.tipTopOffset-
h-a+"px";c=b.pt.x-b.tipLeftOffet+"px";break;case 3:d=b.pt.y-b.tipTopOffset-h-a+"px";c=b.pt.x-b.tipLeftOffet-g/2+"px";break;case 4:d=b.pt.y-b.tipTopOffset-f/2-h-a+"px";c=b.pt.x-b.tipLeftOffet+g/2+"px";break;case 5:d=b.pt.y-b.tipTopOffset-f/2-h-a+"px";c=b.pt.x-b.tipLeftOffet+"px";break;case 6:d=b.pt.y-b.tipTopOffset-f/2-h-a+"px";c=b.pt.x-b.tipLeftOffet-g/2+"px";break;case 7:d=b.pt.y-b.tipTopOffset-f-h-a+"px";c=b.pt.x-b.tipLeftOffet+g/2+"px";break;case 8:d=b.pt.y-b.tipTopOffset-f-h-a+"px";c=b.pt.x-b.tipLeftOffet+
"px";break;case 9:d=b.pt.y-b.tipTopOffset-f-h-a+"px";c=b.pt.x-b.tipLeftOffet-g/2+"px";break}b.defaultDivTip.style.top=d;b.defaultDivTip.style.left=c};
